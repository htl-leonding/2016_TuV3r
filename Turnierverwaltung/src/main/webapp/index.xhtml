<?xml version="1.0" encoding="UTF-8"?>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html" xmlns:p="http://primefaces.org/ui" xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets">

<h:head>
    <title>Home</title>
</h:head>

<h:body>
    <!--<ui:include src="header.xhtml"></ui:include>-->
    <h:form>
            <p:outputPanel id="index" rendered="#{param.j==0||param.j==null}">
                <p:panel id="current" header="Aktuelles Turnier" footer="Turnierinfos" style="margin-bottom:20px">
                    <h:panelGrid columns="2" cellpadding="10">
                        <h:outputText rendered="#{indexController.latestTournament!=null and indexController.latestTournament.active}"
                                      value="#{indexController.latestTournament.name},
                                      Datum: #{indexController.latestTournament.dateAsString},
                                      Anzahl der Teams: #{indexController.latestTournament.teams.size()}"/>
                        <h:outputText rendered="#{indexController.latestTournament==null or indexController.latestTournament.active==false}"
                                      value="Es wird momentan kein Turnier ausgetragen."/>
                    </h:panelGrid>
                </p:panel>
                <p:panel id="history" header="History" footer="Bereits beendete Turniere" style="margin-bottom:20px">
                    <h:panelGrid columns="2" cellpadding="10">
                        <p:dataTable id="tournament_table" var="tournament" value="#{indexController.closedTournaments}">
                            <p:column headerText="Id">
                                <h:outputText value="#{tournament.id}"/>
                            </p:column>
                            <p:column headerText="Name">
                                <h:outputText value="#{tournament.name}"/>
                            </p:column>
                            <p:column headerText="Date">
                                <h:outputText value="#{tournament.dateAsString}"/>
                            </p:column>
                            <p:column headerText="Anzahl der Teams">
                                <h:outputText value="#{tournament.teams.size()}"/>
                            </p:column>
                        </p:dataTable>
                    </h:panelGrid>
                </p:panel>

            </p:outputPanel>
    </h:form>
</h:body>

</html>